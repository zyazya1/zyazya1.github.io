# 1.4.2.3 芯片的赋值

在完成了ccd检测后，每个位置都存放有该处的芯片类型（0：空位，1：A类，2：B类，3：掺杂），而当机器人将一个位置的芯片移走之后，需要对该位置的值进行更改，同时也要对放下芯片的位置的值进行更改。

芯片状态的更改，应当及时、准确。

假设机器人抓取yl{1,4}的芯片，放置于空位bk{1,1}，则可通过下列程序赋值：

```
...
bz{1,1}:=yz{1,4};先将yl{1,4}的状态赋值给bk{1,1}
yz{1,4}:=0;再将yl{1,4}的状态清零，表示该位置变为空位
...
```

此处必须先将值赋值给bz｛1，1｝，而不能先清零，否则，yz｛1，4｝的值就会消失，被移动的芯片的状态变得不可知。

如果机器人是将两个芯片互换，则需要将两个芯片的值也进行互换，此时需要用到一个中间变量作为中转。

假设机器人抓取yl{1,1}的芯片和yl{1,2}的芯片互换，已定义中间变量z。

```
...
z:=yz{1,1};
yz{1,1}:=yz{1,2};
yz{1,2}:=z;
...
```

此处必须将其中一个值先赋值给中间变量z，然后再进行交换赋值。

当然，如果是将芯片放入空位，也可以看成是两个值的交换，同样可以用上面的数值交换程序实现。