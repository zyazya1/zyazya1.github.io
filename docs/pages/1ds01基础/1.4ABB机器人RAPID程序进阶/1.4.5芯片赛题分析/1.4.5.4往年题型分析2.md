# 1.4.5.4 往年题型分析2

2.优先使用板块上已有的芯片

常见题型有以下几种：

（1）对定制工位进行调整（例如A03、A05为定制产品，A04、A06为批量产品），调整成与表xx相同（或相反）的颜色，优先使用定制工位上的已有芯片，不足的从原料区补充；

（2）对A03板块进行调整，调整为与设定颜色相同，优先使用除A03以外工位上的芯片，不足的从原料区补充；

（3）将设定产品上的芯片调整成相反的颜色，优先使用设定产品上的芯片，不足的从原料区补充。



对于此类问题，可采用4层循环嵌套的方法。

循环结构如下：

```
for i from 1 to 4 do
	for j from 1 to 5 do	外两层的i,j对应需要调整的产品的5个芯片
		......
		for m from 1 to 4 do
			for n from 1 to 5 do	内两层的m,n意味从优先工位范围内寻找所需芯片
				......
			endfor
		endfor
		......
	endfor
endfor
```

以（1）为例：

```
for i from 1 to 4 do
	if i=1 or i=3 then
		for j from 1 to 5 do
			if bz{i,j}<>bx{i,j} then
				if bz{i,j}<>0 then
					gj 1,bk{i,j},bgw{i},20,5;
					ylk i,j;
				endif
				if bx{i,j}<>0 then
					z:=0;
					for m from 1 to 4 do
						if m=1 or m=3 then
							for n from 1 to 5 do
								if lx{i,j}=lx{m,n} and bz{m,n}<>bx{m,n} and bz{m,n}=bx{i,j} then
									z:=1;
									gj 1,bk{m,n},bgw{m},20,5;
									gj 1,bk{i,j},bgw{i},20,6;
									jh bz{i,j},bz{m,n};
									goto bq1;
								endif
							endfor
						endif
					endfor
					bq1:
					if z=0 mbfx i,j,bx{i,j};
				endif 
			endif
		endfor
	endif
endfor
```

