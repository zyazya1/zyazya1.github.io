# 1.3.4.3 IO信号相关指令

## 1.IO控制相关指令

### （1）set

含义：将相应数字输出信号置为1

用法：

```
set hd；
```

### （2）reset

含义：将相应数字输出信号置为0

用法：

```
reset hd；
```

### （3）setdo

含义：设置机器人相应数字输出信号的值，与set和reset雷同，且可以设置延时，延时范围为0.1s-32s，默认状态为没有延时

用法：

```
setdO\sdelay:=0.2,weld,high;
setdo do1，1；
```

### （4）setgo

含义：设置机器人相应组合输出信号的值 ( 采用 8421 码 )，可以设置延时输出，延时范围为 0.1s－32s，默认状态为没有延时。

用法：

```
SetGO\SDelay:=0.2,go_Type,10;
setgo cgo，4；
```

### （5）invertdo

含义：将机器人输出信号值反转，0 为 1，1 为 0，在系统参数内也可定义。

用法：

```
InvertDO do15;
```

<img src="picture\invertdo.png" style="zoom: 50%;" />

### （6）pulsedo

含义：机器人输出数字脉冲信号，一般作为运输链完成信号或计数信号。

用法：

```
PulseDO [\High][\PLength] Signal;
[\High]:输出脉冲时，输出信号可以处在高电平。（switch）
[\Plength]:脉冲长度，0.1s－32s，默认值为 0.2s，（num）
Signal:输出信号名称。（signaldo）
```

<img src="picture\pulsedo.png" style="zoom: 80%;" />

限制：机器人脉冲输出长度小于 0.01 秒，系统将报错，不得不重新热启动。

例如：

 WHILE TRUE DO

  PulseDO do5；

 ENDWHILE

### （7）waitdi

含义：等待数字输入信号满足相应值

用法：

```
waitdi di7,1;
waitdi di4,0;

WaitDI di_Ready,1;
机器人等待输入信号，直到信号 di_Ready 值为 1，才执行随后指令。

WaitDI di_Ready,1\MaxTime:=5;
机器人等待相应输入信号，如果 5 秒内仍没有等到信号 di_Ready 值为 1，自动进行 Error Handler 处理，如果没有 Error Handler，机器人停机报错 。

WaitDI di_Ready,1\MaxTime:=1\TimeFlag:=bTimeout;
机器人等待到位信号，如果 1 秒内仍没有等到信号 di_Ready 值为 1，机器人自动执行随后指令，但此时 TimeFlag 值为 TRUE；机器人等到信号 di_Ready 值为 1，此时，TimeFlag 值为 FALSE。
```

### （8）setao

含义：机器人当前模拟量输出信号输出相应的值，例如：机器人焊接时，通过模拟量输出控制焊接电压与送丝速度。

用法：

```
SetAO ao2,5.5;
```

### （9）waitdo

含义：等待数字输出信号满足相应值，达到通信目的，因为输出信号一般情况下受程序控制，此指令很少使用。

用法：

```
WaitDO Signal, Value [\MaxTime][\TimeFlag];
```

### （10）aliasio

含义：对机器人系统参数内定义的信号名称进行化名，给机器人程序使用，一般使用与 Loaded Modules 或 Built-in Modules 内。例如：多台机器人使用相同系统参数。

用法：

```
AliasIO FromSignal, ToSignal;
FromSignal:机器人系统参数内所定义的信号名称。( signalxx or string ) 
ToSignal:机器人程序内所使用的信号名称。( signalxx )

实例：
VAR signaldo alias_do;
CONST string config_string:="config_do";
PROC prog_start()
	AliasIO config_do,alias_do;
	（config_do在系统参数内定义
	alias_do在机器人程序内定义）
	AliasIO config_string,alias_do;
ENDPROC
```

限制：

- 指令 AliasIO 必须放置在预置程序 START内或程序内使用相应信号之前。
- 指令 AliasIO 在示教器上无法输入，只能通过离线编程输入。
- 指令 AliasIO 需要软件 Developer’s Functions 支持。

### （11）IOdisable

含义：通过指令可以使机器人输入输出板在程序运行时自动失效，系统将一块输入输出板失效需要 2－5 秒。如果失效时间超过最长等待时间，系统将进入 Error Handler 处理，错误代码为 ERR_IODISABLE，如果例行程序没有 Error Handler 机器人将停机报错。

### （12）IOenable

含义：通过这指令可以使机器人输入输出板在程序运行时自动激活，系统将一块输入输出板激活需要 2－5 秒。如果激活时间超过最长等待时间，系统将进入 Error Handler 处理，错误代码为 ERR_IOENABLE，如果例行程序没有Error Handler 机器人将停机报错。