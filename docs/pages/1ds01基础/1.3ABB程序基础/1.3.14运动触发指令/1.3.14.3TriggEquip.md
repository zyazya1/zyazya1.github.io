# 1.3.14.3 TriggEquip

## 1.含义

机器人可以在运动时通过触发指令精确的输出相应信号，当前指令用于定义触发性质，此指令必须与其他触发指令 TriggJ、TriggL 或 TriggC 同时使用才有意义，同机器人指令 TriggIO 比较，多了外部设备触发延迟功能，少了时间控制功能，此指令通常用于喷涂、涂胶等行业。

使用参变量 [\Start]，表示以运动起始点触发基准点，默认为以运动终止点；参变量 [\ProcID]，正常情况下用户无法自行使用，此参变量用于 IPM 过程处理。当参变量 [\Inhib] 值为 TRUE，在触发点所有输出信号 ( AO、GO、DO) 将被置为 0。

![](picture\triggequip1.png)

## 2.用法

```
TriggEquip TriggData, Distance [\Start], EquipLag [\DOp]|[\GOp]|[\AOp]|[\ProcID], SetValue [\Inhib];

[TriggData]:触发变量名称。	( triggdata ) 
Distance:	触发距离 mm。 ( num ) 
[\Start]:	触发起始开关。	( switch ) 
EquipLag:	触发延迟补偿 s。( num ) 
[\DOp]:		触发数字输出。	( signaldo )
[\GOp]:		触发组合输出。	( signalgo ) 
[\AOp]:		触发模拟输出。	( signalao ) 
[\ProcID]:	过程处理触发。	( num ) 
SetValue:	相应信号值。	( num ) 
[\Inhib]:	信号抑止数据。	( bool )
```

实例：

```
VAR triggdata gunon;
TriggEquip gunon,10,0.1\DOp:=gun,1;
TriggL p1,v500,gunon,z50,gun1;
```

![](picture\triggequip2.png)

限制：

- 当前指令通过触发延迟可以提高信号输出精度，设置的时间应小于机器人开始减速时间 ( 最大 0.5s )，例如：运行速度 500mm/s，IRB2400 为 150ms，IRB6400 为 250ms，在设置时间超过减速时间的情况下，实际时间会缩短，但不会对正常运行造成影响。
- 触发延迟 EquipLag 值应小于系统参数内Event Preset Time 配置值，默认为 60ms。
- 如果触发延迟 EquipLag 值大于系统参数内Event Preset Time 配置值，需要使用指令SingArea\Wrist。