# 1.3.15.5 访问结构体

上面已经申明并初始化结构了，下面我们需要试一试如何访问结构体。其实访问结构体和访问一般的RAPID变量是类似的，我们依旧使用“Pos”变量来进行演示：

```text
PROC RecordTest()
    var robtarget pTarget;
    pPos_1:=[1,1,1];
    pPos_1.x:=15;
    pPos_1.x:= pPos_1.x+pPos_2.x;
    pPos_1:=pPos_1+pPos_2; 
    pTarget.trans.x:=0;
ENDPROC
我们可以发现其实我们可以直接给整个结构体一次性赋值，也可以通过“.”来访问结构里面的元素。如果结构体是复合结构体我们可以接续通过结构体访问下一次元素，比如” pTarget.trans.x:=0”我们通过这样的方式就可以访问到“x”元素。
```

下面我们回到案例。我们下面实现一个简单的功能编写一个函数实现输入箱子就能够自动计算输入箱子的体积。

在写代码之前我们可以先理一下思路，这个函数的输入输出是什么。输入我们肯定是一个箱子的结构体变量，输出我们就是一个num的结果表述箱子的体积。也有读者会说既然是计算体积，为什么我的输入输出不能是三个num变量分别表示长宽高呢？其实也是可以的。这边我更倾向直接把Box变量直接输出给函数。确认好了输入输出，下面就是搬运代码了。

代码如下：

```text
FUNC num CalculateVolume(Box boxIn)
     RETURN boxIn.Length*boxIn.Width*boxIn.Height;
ENDFUNC
PROC Main()
     TPWrite "Volume of box A is "+ValToStr(CalculateVolume(Box_Type_A))  ;
     TPWrite "Volume of box B is "+ValToStr(CalculateVolume(Box_Type_B))  ;
ENDPROC
```



我们利用前面几个章节学到的关于函数的知识，写了上面这段代码，我们把函数的输入参数设置成“Box”，并把计算的结果通过“Num”类型进行返回。计算的过程比较简单直接把箱子的长宽高进行相乘就可以了。

代码运行结果如下图9-1：

![img](https://pic3.zhimg.com/80/v2-d75971ecaf98fc37cdc50c7cddbb6fc2_720w.webp)

图 9-1



上面的代码我们简单实现了计算一个输入盒子的体积。有兴趣的读者朋友还可以计算箱子展开的平铺的面积等等，下一小节我们将讨论一下结构体的嵌套。