# 1.3.15.12 栈的数据压入

下面就是数据的压入的思路构思和编写，以前面的实现的功能为基础继续我们的思路，首先获取栈内数据的数量，然后再将当前的数量上下标增加一获得新的下标同时给该下标所在的Item赋值数据，但是我们由于ABB RAPID数组长度不支持动态增加或减少，只能申明固定长度的数组，所以我们要考虑数组的长度，如果小于数组的总长度我们就加入数据并返回“True”告诉接口函数的调用者数据压入成功否则是压入数据失败我们返回“False”。

```text
FUNC  bool StackPush(box value)
     VAR num stackCount;
     stackCount:=StackGetCount();
     IF stackCount< dim(boxStack,1) THEN
         boxStack{stackCount+1}:=value;
         Incr BoxIndex;
         RETURN TRUE;
     ELSE 
         RETURN FALSE;
     ENDIF
ENDFUNC
```

这里前面编写StackGetCount的就发挥作用了，其实你也可以用下标，每次成功加入一个数据就下标BoxIndex就加1，如果出栈一个数据BoxIndex就减少1，这时候你再次添加和减少数据就可以直接通过BoxIndex的数值来操作，我没有这么做就怕万一那种操作漏考虑了，结果就是灾难性的。其实使用BoxIndex在存储的数据长度越长，优势就凸显出来了，如你一次存了几千个，每次通过函数StackGetCount肯定不如BoxIndex的响应速度快，如果你由兴趣可以按照这个思路写下去，我在代码里面同样添加了 Incr BoxIndex这段指令功能。