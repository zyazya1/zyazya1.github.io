# 1.3.11.3 TPReadFK

1.含义

在示教器屏幕上显示相应字符串 ( Text )，字符串最长 80 个字节，屏幕每行可显示 40 个字节，同时在 5 个功能键上显示相应字符串 (FKx )，字符串最长 7 个字节，通过选择按相应功能键，给数字变量 ( Answer ) 赋值 1－5，通过这种功能，当前指令可以进行数据选择，但必须有人参与，无法达到自动化，已被输入输出信号替代。另外，在执行当前指令时，必须等到功能键输入，才执行以后指令，除非选择相应参变量。通过这种功能，当前指令常用于错误处理等场合。

2.用法

```
TPReadFK Answer, Text, FK1, FK2, FK3, FK4, FK5 [\MaxTime][\DIBreak][\BreakFlag];

Answer:数字赋值 1－5。( num )  
Text:屏幕字符串。( string )   
FKx:功能键字符串。( string ) 
[\MaxTime]:最长等待时间 s。( num ) 
[\DIBreak]:输入信号控制。( signaldi ) 
[\BreakFlag]:指令状态控制。( errnum )
```

实例：

```
TPReadFK reg1,“More?”,stEmpty,stEmpty,stEmpty,“Yes”,“No”;
```

<img src="picture\tpreadfk.png" style="zoom:80%;" />

参变量：

- [\MaxTime]

  机器人执行当前指令等待时间超过最长等待时间，机器人将停机报错，如果同时采用参变量 [ BreakFlag ]，机器人将继续执行以后指令，并且给出相应错误数据。

- [\DIBreak]

  机器人通过输入信号来继续执行以后指令，并且给出相应错误数据。

- [\BreakFlag]

  - ERR_TP_MAXTIME
  - ERR_TP_ DIBREAK