# 1.3.5.3 用&string&调用程序

## 1.含义

%%当中的为字符串，内容为调用的例行程序名称，可以是由多个字符串合并构成。使用%%调用时，程序检查错误是不检查该例行程序是否已加载（普通调用都需要检查，不然会报错）。

## 2.用法

```
proc main()
	%"routine"+valtostr(1)%;
	!其中valtostr意为将数字转换为字符串，通过改指令调用routine1例行程序
endproc
proc routine1()
	movel a,v1000,fine,tool0;
endproc
```

与callbyvar的比较：

callbyvar不能调用带有参数的例行程序，而%string%仍可调用带有参数的例行程序。

```
TEST reg1      
CASE 1:  	    
	lf_door door_loc; 
CASE 2:	   
	rf_door door_loc; 
CASE 3:	   
	lr_door door_loc; 
CASE 4:	   
	rr_door door_loc; 
DEFAULT:    
	EXIT;      
ENDTEST
CallByVar “proc”,reg1;
%”proc”+NumToStr(reg1,0)% door_loc；
```

